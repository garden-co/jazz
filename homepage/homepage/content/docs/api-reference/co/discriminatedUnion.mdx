import { CodeGroup } from '@/components/forMdx';
export const metadata = {
  description: "API reference for the `co.discriminatedUnion` module.",
};

# Discriminated Union

`co.discriminatedUnion` creates a schema for a field that can hold one of several different CoValue types, with a discriminator field to identify which type it currently holds.

See the [detailed guide](/docs/core-concepts/schemas/schemaunions). A discriminated union inherits the API of its member types. For a detailed API reference, see the appropriate reference page for each of the member types, and use type narrowing to access the specific properties of each variant.

## Function

<CodeGroup preferWrap>
```typescript
co.discriminatedUnion<D extends string, S extends Record<string, CoValueClass>>(
  discriminator: D,
  schemas: S
): DiscriminatedUnionSchema<D, S>
```
</CodeGroup>

Creates a discriminated union schema from multiple CoValue schemas.

**Parameters:**
- `discriminator`: The name of the field used to discriminate between variants (e.g., `"type"`, `"kind"`).
- `schemas`: An object mapping discriminator values to their corresponding CoValue schemas.

**Returns:** A schema that can be one of the specified types, distinguished by the discriminator field.

## Usage

<CodeGroup preferWrap>
```ts core-concepts/schemas/schemaunions/schema.ts#SchemaUnion
```
</CodeGroup>

## Type Safety

TypeScript automatically narrows the union type based on the discriminator field:

{/* TODO: Extract snippet */}
<CodeGroup preferWrap>
```typescript
function processContent(widget: WidgetUnion) {
  if (widget.type === "button") {
    // TypeScript knows label comes from ButtonWidget
    console.log(content.label);
  } else if (widget.type === "slider") {
    // TypeScript knows max comes from SliderWidget
    console.log(widget.max);
  }
}
```
</CodeGroup>
