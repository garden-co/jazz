import { CodeGroup, ComingSoon, ContentByFramework } from "@/components/forMdx";

export const metadata = { title: "Creation & ownership" };

# Creation & Ownership

CoValues are collaborative by nature - anything you create can be shared and synced with others. Who gets to read or change each CoValue is controlled by its owner - either an individual `Account` or a shared `Group`.

## Creating CoValues

Every CoValue starts with a [schema](/docs/schemas/covalues#start-your-app-with-a-schema). From there you can create CoValues with the `create` method. 

Here's a simple example:

<CodeGroup>
```ts
class Task extends CoMap {
  title = co.string;
  description = co.string;
  status = co.literal("todo", "in-progress", "completed");
}

// Create a new task
const task = Task.create({
  title: "Plant spring vegetables",
  description: "Plant peas, carrots, and lettuce",
  status: "todo",
});
```
</CodeGroup>

When you create a CoValue, you provide its initial data and optionally specify who owns it. The data must match the schema you defined - TypeScript will help ensure you get this right.

For more examples of creating CoValues, see [CoValues](/docs/covalues) for more examples.

<CodeGroup>
```ts
class Notifications extends CoFeed {
  title = co.string;
  description = co.string;
  status = co.literal("todo", "in-progress", "completed");
}

const feed = Feed.create();

feed.addItem({
  title: "New task created",
  description: "A new task has been created",
  status: "todo",
});
```
</CodeGroup>

## Ownership & Access Control

Every CoValue needs an owner to control who can access it. An owner can be an individual `Account`, but it's usually a `Group` since that lets you share with multiple people.

### Groups & Roles

Groups have members with different roles that control what they can do:

<CodeGroup>
```ts

// Create a group
const gardenCollective = Group.create(account);
// Add community members with different roles
gardenCollective.addMember(coordinator, "admin"); // Garden coordinator manages projects
gardenCollective.addMember(gardener, "writer"); // Community gardeners can update tasks
gardenCollective.addMember(visitor, "reader"); // Visitors can view progress

const task1 = {
  title: "Start tomatoes indoors",
  description: "Plant seeds in trays under grow lights",
  completed: false,
  area: "vegetables",
};

const task2 = {
  title: "Prepare garden beds",
  description: "Add compost and turn soil when temperature reaches 10Â°C",
  completed: false,
  area: "vegetables",
};

// Create a spring project owned by the collective
const springProject = GardenProject.create(
  {
    name: "Spring Planting",
    description: "Getting the garden ready for spring vegetables",
    tasks: ListOfTasks.create(
      [
        Task.create(task1),
        Task.create(task2),
      ],
    ),
  },
  { owner: gardenCollective }, // Explicitly setting the owner
);
```
</CodeGroup>

Each role has specific permissions:
- `admin`: Full control including managing members
- `writer`: Can modify content
- `reader`: Can only read content
- `writerOnly`: Can only write to the CoValue, not read it

For more details about groups and permissions, check out the [Groups & Permissions guide](/docs/groups/permissions).
