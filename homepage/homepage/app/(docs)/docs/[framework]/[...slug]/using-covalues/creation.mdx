import { CodeGroup, ComingSoon, ContentByFramework } from "@/components/forMdx";

export const metadata = { title: "Creation & ownership" };

# Creation & ownership


CoValues are inherently collaborative, meaning multiple users and devices can edit them at the same time.

Who gets to read or change each CoValue is controlled by its owner — either an individual `Account` or a shared `Group`. This foundation of ownership is what enables Jazz applications to support real-time collaboration while maintaining proper access control.


## Creating CoValues

To define the structure of your CoValue, you start with a schema. Here's an example:

<CodeGroup>
```ts
// schema.ts
class Task extends CoMap {
  title = co.string;
  description = co.string;
  status = co.literal("todo", "in progress", "completed");
}
```
</CodeGroup>

From there, you can create a `Task` CoValue using the `create` method.

<CodeGroup>
```ts
const task = Task.create({
  title: "Plant spring vegetables",
  description: "Plant peas, carrots, and lettuce",
  status: "todo",
});
```
</CodeGroup>

To learn more about defining schemas, different types of CoValues, and the primitive types you can use for the fields,
see the [schemas documentation](/docs/schemas/covalues).

When you create a CoValue, you provide its initial data and optionally specify who owns it. TypeScript will help ensure that your data matches the schema.

Here's an example of a more detailed schema:

<CodeGroup>
```ts
// Creating a CoFeed for activity notifications
class ActivityNotification extends CoMap {
  message = co.string;
  type = co.literal("info", "warning", "success");
  timestamp = co.Date;
}

class ActivityFeed extends CoFeed.Of(co.ref(ActivityNotification)) {}

const feed = ActivityFeed.create();

// Adding an item to the feed
feed.addItem(ActivityNotification.create({
  message: "New task created",
  type: "info",
  timestamp: new Date()
}));
```
</CodeGroup>

## Ownership & access control

Every CoValue needs an owner to control who can access it — either an `Account` or a `Group`.

In the following example, we create a `Task` that only your account `me`, can access.

<CodeGroup>
```ts
const { me } = useAccount();  // *add*

const task = Task.create({
  title: "Plant spring vegetables",
  description: "Plant peas, carrots, and lettuce",
  status: "todo",
}, {
  owner: me // *add*
});
```
</CodeGroup>

But the owner is usually a `Group`, since that lets you share with multiple people.

<CodeGroup>
```ts
const group = Group.create();  // *add*

const task = Task.create({
  title: "Plant spring vegetables",
  description: "Plant peas, carrots, and lettuce",
  status: "todo",
}, {
  owner: group // *add*
});
```
</CodeGroup>

These permission scopes let you implement common patterns like shared workspaces, personal data, or public resources.
Learn more about [Groups for permissions](/docs/groups/intro).

### Groups & Roles

Groups have members with different roles that control what they can do.

- `admin`: Full control including managing members; can't be demoted by other admins
- `writer`: Can write and read content
- `reader`: Can only read content
- `writerOnly`: Can only write to the CoValue, not read it

Here's an example of a gardening project for Spring Planting, where every member has a different role:

<CodeGroup>
```ts
// Create a group
const gardenTeam = Group.create();

// Add garden members with different roles
gardenTeam.addMember(coordinator, "admin");     // Garden coordinator manages everything
gardenTeam.addMember(gardener, "writer");       // Gardeners can update tasks
gardenTeam.addMember(visitor, "reader");        // Visitors can view progress

// Create a list of tasks with the same owner
const taskList = ListOfTasks.create([]);

// Create a garden project with nested tasks, all with the same ownership
const springProject = Project.create({
  name: "Spring Planting",
  description: "Preparing the community garden for spring vegetables",
  tasks: taskList
});

// Add tasks to the list
taskList.push(Task.create({
  title: "Start tomato seedlings",
  description: "Plant Roma and Cherry varieties in seed trays",
  status: "todo"
});
```
</CodeGroup>

For more information on groups and roles, see the [Groups](/docs/groups/intro) documentation.
